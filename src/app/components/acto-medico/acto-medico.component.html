<form [formGroup]="formActaMedica" (ngSubmit)="postRegistroActoMedico()">
  <div class="container p-4">
    <div class="card border-0" style="background-color: white;">
      <div class="card-body">
        <div class="card-title mb-4 text-center"><h1>Acto Medico</h1></div>
        <div class="card mr-3 ml-3 border-0 shadow-card">
          <div class="card-body">
            <div class="card-title"><h4>Datos del Paciente</h4></div>
              <ul *ngFor="let paciente of pacientes">              
                <li><span>Historia: </span>{{ paciente.ci_numhist }}</li>
                <li><span>Edad: </span>{{ paciente.ci_edad }}</li>
                <li><span>Paciente: </span>{{ paciente.nombre_completo }}</li>
                <li><span>Medico: </span>{{ paciente.medico.me_nombres }}</li>
                <li><span>Especialidad: </span>{{ paciente.especialidad.es_descripcion }}</li>
            </ul>
          </div>
        </div>
        <div class="d-flex flex-wrap w-100 px-2">
          <div class="w-50 mw-50 px-2">
            <div class="card mt-3 border-0 shadow-card">
              <div class="card-body">
                <div class="card-title mb-4"><h4>Registros</h4></div>
                <div class="form-group">
                  <textarea
                    class="form-control"
                    placeholder="Motivo de Consulta"
                    formControlName="motivo"
                  ></textarea>
                </div>
                <div class="form-group">
                  <textarea
                    class="form-control"
                    placeholder="Enfermedad o Problema Actual"
                    formControlName="enfermedad"
                  ></textarea>
                </div>
                <div class="form-group">
                  <textarea
                    class="form-control"
                    placeholder="Examen Fisico"
                    formControlName="examen"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="card mt-3 border-0 shadow-card">
              <div class="card-body">
                <div class="card-title mb-4">
                  <h4>Signos Vitales</h4>
                </div>
                <div class="d-flex flex-wrap w-100 justify-content-between">
                  <div class="w-50 mw-50">
                    <div class="form-group">
                      <input
                        type="text"
                        name=""
                        id=""
                        class="form-control"
                        formControlName="arterial"
                        placeholder="Presion Arterial"
                      />
                    </div>
                    <div class="form-group">
                      <input
                        type="text"
                        name=""
                        id=""
                        class="form-control"
                        formControlName="cardiaca"
                        placeholder="Frencuencia Cardiaca(min)"
                      />
                    </div>
                    <div class="form-group">
                      <input
                        type="text"
                        name=""
                        id=""
                        class="form-control"
                        formControlName="respiratorio"
                        placeholder="Frencuencia Respiratoria(min)"
                      />
                    </div>
                    <div class="form-group">
                      <input
                        type="text"
                        name=""
                        id=""
                        class="form-control"
                        formControlName="bucal"
                        placeholder="Temperatura Bucal(c)"
                      />
                    </div>
                    <div class="form-group">
                      <input
                        type="text"
                        name=""
                        id=""
                        class="form-control"
                        formControlName="axilar"
                        placeholder="Temperatura Axilar(c)"
                      />
                    </div>
                  </div>
                  <div class="w-50 mw-50">
                    <div class="form-group">
                      <input
                        type="text"
                        name=""
                        id=""
                        class="form-control"
                        formControlName="peso"
                        placeholder="Peso(kg)"
                      />
                    </div>
                    <div class="form-group">
                      <input
                        type="text"
                        name=""
                        id=""
                        class="form-control"
                        formControlName="talla"
                        placeholder="Talla(m)"
                      />
                    </div>
                    <div class="form-group">
                      <input
                        type="text"
                        name=""
                        id=""
                        class="form-control"
                        formControlName="mcorporal"
                        placeholder="I. Masa corporal"
                      />
                    </div>
                    <div class="form-group">
                      <input
                        type="text"
                        name=""
                        id=""
                        class="form-control"
                        formControlName="cefalico"
                        placeholder="Perimetro Cefalico(cm)"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="w-50 mw-50 px-2">
            <div class="card mt-3 border-0 shadow-card">
              <div class="card-body">
                <div class="card-title mb-4"><h4>Antecedentes</h4></div>
                <div class="form-group">
                  <select class="custom-select form-control" formControlName="anPersonales">
                    <option value="null">PERSONALES Y ALERGIAS</option>
                    <option
                      *ngFor="let personal of antPersonales"
                      [ngValue]="personal.an_codigo"
                    >
                      {{ personal.an_descripcion }}</option
                    >
                  </select>
                </div>
                <div class="form-group">
                  <select class="custom-select form-control" formControlName="anEnergias">
                    <option value="null">FAMILIARES</option>
                    <option
                    *ngFor="let familiares of antFamiliares"
                    [ngValue]="familiares.an_codigo"
                  >
                    {{ familiares.an_descripcion }}</option
                  >
                  </select>
                </div>
              </div>
            </div>
            <div class="card mt-3 border-0 shadow-card">
              <div class="card-body">
                <div class="card-title mb-4"><h4>Diagnosticos</h4></div>
                <div class="form-group">
                  <input
                    type="text"
                    name=""
                    id=""
                    class="form-control"
                    [formControl]="inpcie"
                    placeholder="Cie10"
                  />
                </div>
                <div class="mb-2">
                  <ul class="list-group">
                    <li
                      (click)="addCie(cie)"
                      class="list-group-item"
                      *ngFor="
                        let cie of cies
                          | paginate: { itemsPerPage: 5, currentPage: page }
                      "
                    >
                      <span
                        ><b>{{ cie.codigo }}</b></span
                      >
                      {{ cie.descripcion }}
                    </li>
                    <li class="list-group-item" *ngIf="cies">
                      <pagination-controls
                        (pageChange)="page = $event"
                      ></pagination-controls>
                    </li>
                  </ul>
                </div>

                <ul class="list-group">
                  <li class="list-group-item">Cie seleccionado</li>
                  <li (click)="deleteCie(selectCie)" class="list-group-item" *ngFor="let selectCie of selectCies" >
                    <b>{{ selectCie.codigo }}</b>{{ selectCie.descripcion }}
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-md-6">
          <button type="submit">
            <h5>Generar Acto Medico</h5>
          </button>
        </div>
      </div>
    </div>
  </div>
</form>
